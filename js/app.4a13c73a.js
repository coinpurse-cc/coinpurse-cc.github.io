(function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("64a9")},1:function(e,t){},10:function(e,t){},11:function(e,t){},2:function(e,t){},"2dc0":function(e){e.exports=JSON.parse('{"networks":{"mainnet":[],"kovan":["TEST"],"xdai":["zxbtc"]}}')},3:function(e,t){},4:function(e,t){},"49dd":function(e,t,a){},5:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),s=a("aff1"),r=a.n(s),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"antialiased text-gray-200 flex flex-col min-h-screen bg-gray-800",attrs:{id:"app"}},[a("router-view",{staticClass:"flex-1"})],1)},o=[],l=(a("034f"),a("2877")),c={},u=Object(l["a"])(c,i,o,!1,null,null,null),d=u.exports,p=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" container mx-auto bg-gray-800 ",attrs:{id:"wallet"}},[a("Navbar"),a("div",{staticClass:" ",attrs:{id:"jumbotron"}}),e._m(0),a("Footer")],1)},y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"hero   "},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"whitespace-sm"}),a("div",{staticClass:"flex flex-col content-center justify-center w-full"},[a("div",{staticClass:"w-full"},[e._v("  Free, feeless, non-custodial cryptocurrency bot for Discord  ")]),a("div",{staticClass:"w-full text-gray-500 text-xs"},[e._v("  Powered by xDai Network + Ethereum + PoW Mineable Tokens")])]),a("div",{staticClass:"whitespace-sm"}),a("div",{staticClass:"flex  "},[a("img",{staticStyle:{margin:"0 auto"},attrs:{src:"/assets/images/discordcollage.jpg"}})]),a("div",{staticClass:"whitespace-md"}),a("div",{staticClass:"flex flex-wrap  content-center justify-center w-full "},[a("a",{staticClass:" m-2 p-4 bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50",attrs:{href:"https://discord.com/api/oauth2/authorize?client_id=813641559265378344&permissions=3072&scope=bot",target:"_blank"}},[e._v("\n                Invite Coinpurse Bot into Discord! ")]),a("a",{staticClass:"m-2  p-4 bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-600 focus:ring-opacity-50",attrs:{href:"https://discord.com/invite/JGEqqmS",target:"_blank"}},[e._v("\n                Try it out in the 0xBTC Discord ")])]),a("div",{staticClass:"whitespace-md"})])])}],f=(a("2397"),a("768b")),v=(a("ac6a"),a("ffc1"),a("96cf"),a("3b8d")),b=a("b0b4"),h=a("d225"),g=a("4e2b7"),w=a("308d"),k=a("6bb5"),x=a("901e"),C=a.n(x);function A(e){var t=_();return function(){var a,n=Object(k["a"])(e);if(t){var s=Object(k["a"])(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Object(w["a"])(this,a)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var T=a("99e5"),P=(T.utils,a("9726")),R=a("faa1"),M=function(e){Object(g["a"])(a,e);var t=A(a);function a(){return Object(h["a"])(this,a),t.apply(this,arguments)}return a}(R),N=new M,S={"0x1":"mainnet","0x2a":"kovan","0x64":"xdai"},O=function(){function e(){Object(h["a"])(this,e)}return Object(b["a"])(e,[{key:"connectWeb3",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("connectWeb3"),window.ethereum?(window.web3=new T(window.ethereum),this.web3=window.web3,window.ethereum.enable(),window.ethereum.on("accountsChanged",(function(e){N.emit("stateChanged",t.getConnectionState())})),window.ethereum.on("chainChanged",(function(e){N.emit("stateChanged",t.getConnectionState())})),N.emit("stateChanged",this.getConnectionState())):N.emit("error","No web3 provider found.");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPlugEventEmitter",value:function(){return N}},{key:"getConnectionState",value:function(){return{activeAccountAddress:window.ethereum.selectedAddress,activeNetworkId:window.ethereum.chainId}}},{key:"getWeb3NetworkName",value:function(e){for(var t=0,a=Object.entries(S);t<a.length;t++){var n=Object(f["a"])(a[t],2),s=n[0],r=n[1];if(e==s)return r}return console.error("Invalid network Id: ",e),null}},{key:"getContractDataForActiveNetwork",value:function(){var e=this.getConnectionState().activeNetworkId,t=this.getWeb3NetworkName(e);if(t)return P.networks[t]}},{key:"getContractDataForNetworkID",value:function(e){var t=this.getWeb3NetworkName(e);if(t)return P.networks[t]}},{key:"getConnectedAccounts",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCustomContract",value:function(e,t,a){var n=new e.eth.Contract(t,a);return n}},{key:"getETHBalance",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new T(T.givenProvider),e.abrupt("return",a.eth.getBalance(t));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTokenBalance",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,a){var n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new T(T.givenProvider),s=new n.eth.Contract(tokenContractABI,t,{}),e.next=4,s.methods.balanceOf(a).call();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"rawAmountToFormatted",value:function(e,t){return(e*Math.pow(10,-1*t)).toFixed(t)}},{key:"formattedAmountToRaw",value:function(e,t){console.log("meep",new C.a(10));var a=new C.a(10).exponentiatedBy(t);return a.multipliedBy(e).toFixed()}}]),e}(),j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.shouldRender&&e.selectedActionAsset?a("div",{staticClass:"action-container box  bg-gray-600 px-8",attrs:{id:"action-container"}},[a("div",{staticClass:"tabs flex flex-col sm:flex-row select-none"},[a("div",{staticClass:"tab bg-gray-700 text-gray-300 py-4 px-6 block hover:text-blue-500 focus:outline-none cursor-pointer",class:{"text-blue-500 bg-gray-800":"permit"==e.selectedActionType},on:{click:function(t){return e.selectAction("permit")}}},[e._m(0)]),a("div",{staticClass:"tab bg-gray-700 text-gray-300 py-4 px-6 block hover:text-blue-500 focus:outline-none cursor-pointer",class:{"text-blue-500 bg-gray-800":"lavatransfer"==e.selectedActionType},on:{click:function(t){return e.selectAction("lavatransfer")}}},[e._m(1)]),a("div",{staticClass:"tab bg-gray-700 text-gray-300 py-4 px-6 block hover:text-blue-500 focus:outline-none cursor-pointer",class:{"text-blue-500 bg-gray-800":"metadatatransfer"==e.selectedActionType},on:{click:function(t){return e.selectAction("metadatatransfer")}}},[e._m(2)])]),"permit"==e.selectedActionType?a("div",{staticClass:"approve-container m-4 p-4"},[a("div",{staticClass:"input-container padding-md"},[a("div",{staticClass:"label"},[e._v("Approve Tokens")]),a("div",{staticClass:"flex flex-row w-full"},[a("div",{staticClass:" flex-grow w-1/2"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.permitTokenQuantity,expression:"permitTokenQuantity"}],staticClass:" hidden h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline ",attrs:{type:"text",placeholder:"token amount"},domProps:{value:e.permitTokenQuantity},on:{input:function(t){t.target.composing||(e.permitTokenQuantity=t.target.value)}}}),a("div",{staticClass:"button inline-block bg-green-500 hover:bg-green-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionPermitTokens}},[e._v(" Permit All ")])])]),a("div",{staticClass:"  flex-grow  w-1/2"},[e.permitMetaData?a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Node URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.relayNodeURL,expression:"relayNodeURL"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"xxx.xxx.xxx.xxx:yyyy"},domProps:{value:e.relayNodeURL},on:{input:function(t){t.target.composing||(e.relayNodeURL=t.target.value)}}}),a("div",{staticClass:"whitespace-sm"}),e.permitMetaData?a("div",{attrs:{id:"btn-broadcast-lava-packet"}},[a("div",{staticClass:"button inline-block bg-blue-500 hover:bg-blue-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionBroadcastPermitPacket}},[e._v("Broadcast Permit Packet To Relay")])]):e._e(),e.permitMetaData&&e.broadcastMessage?a("div",{staticClass:"subtitle color-primary has-text-centered"},[e._v("\n                     "+e._s(e.broadcastMessage)+"\n                   ")]):e._e(),a("div",{staticClass:"whitespace-sm"})]):e._e(),a("div",{staticClass:"whitespace-sm"}),e.permitMetaData?a("div",[a("div",[e._v(" Meta Packet ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.permitMetaData,expression:"permitMetaData"}],staticClass:"text-black",domProps:{value:e.permitMetaData},on:{input:function(t){t.target.composing||(e.permitMetaData=t.target.value)}}})]):e._e(),e.permitMetaData?a("div",{staticClass:"button inline-block bg-purple-500 hover:bg-purple-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSubmitPermit}},[e._v(" Submit Meta Tx ")]):e._e(),e.pendingTransaction?a("div",{staticClass:"loader inline-block"}):e._e()])])])]):e._e(),"lavatransfer"==e.selectedActionType?a("div",{staticClass:"lava-transfer-container  m-4 p-4"},[a("div",{staticClass:" "},[a("p",[e._v(" Generate a signed Lava Transfer Message.  This message can be submitted to the Ethereum network by anyone, at which point the tokens will be transferred to the recipient's account.  ")]),a("div",{staticClass:"whitespace-sm"}),a("div",{staticClass:"flex flex-row w-full"},[a("div",{staticClass:"w-1/2 p-4"},[a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Amount")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenQuantity,expression:"transferTokenQuantity"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token amount"},domProps:{value:e.transferTokenQuantity},on:{input:function(t){t.target.composing||(e.transferTokenQuantity=t.target.value)}}})]),a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Recipient")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenRecipient,expression:"transferTokenRecipient"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token recipient"},domProps:{value:e.transferTokenRecipient},on:{input:function(t){t.target.composing||(e.transferTokenRecipient=t.target.value)}}})]),a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Authority")]),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.relayAuthorityType,expression:"relayAuthorityType"}],staticClass:" text-black  ",attrs:{onchange:" ",placeholder:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.relayAuthorityType=t.target.multiple?a:a[0]}}},[a("option",[e._v("any relayers")])])])]),a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Reward (tokens)")]),e._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenRelayReward,expression:"transferTokenRelayReward"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token relay reward"},domProps:{value:e.transferTokenRelayReward},on:{input:function(t){t.target.composing||(e.transferTokenRelayReward=t.target.value)}}})]),a("div",{staticClass:"whitespace-sm"}),a("div",{staticClass:"button inline-block bg-green-500 hover:bg-green-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSignLavaPacket}},[e._v(" Sign ")])]),a("div",{staticClass:"w-1/2 p-4 "},[a("div",{staticClass:"is-size-6"}),e.lavaMetadata?a("p",[e._v(" Specify the URL for a Lava Network Node and broadcast this packet to the Lava Network Relayers.  They will submit the packet to the Ethereum Network if the reward is high enough.  ")]):e._e(),e.lavaMetadata?a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Node URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.relayNodeURL,expression:"relayNodeURL"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"xxx.xxx.xxx.xxx:yyyy"},domProps:{value:e.relayNodeURL},on:{input:function(t){t.target.composing||(e.relayNodeURL=t.target.value)}}}),a("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?a("div",{attrs:{id:"btn-broadcast-lava-packet"}},[a("div",{staticClass:"button inline-block bg-blue-500 hover:bg-blue-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionBroadcastLavaPacket}},[e._v("Broadcast Lava Packet To Relay")])]):e._e(),e.lavaMetadata&&e.broadcastMessage?a("div",{staticClass:"subtitle color-primary has-text-centered"},[e._v("\n                     "+e._s(e.broadcastMessage)+"\n                   ")]):e._e(),a("div",{staticClass:"whitespace-sm"})]):e._e(),a("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?a("div",{staticClass:"form-group padding-md"},[a("div",[e._v(" Meta Packet ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.lavaMetadata,expression:"lavaMetadata"}],staticClass:"text-black",domProps:{value:e.lavaMetadata},on:{input:function(t){t.target.composing||(e.lavaMetadata=t.target.value)}}})]):e._e(),a("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?a("div",{staticClass:"button inline-block bg-purple-500 hover:bg-purple-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSubmitLava}},[e._v(" Submit Lava Tx ")]):e._e(),e.pendingTransaction?a("div",{staticClass:"loader inline-block"}):e._e()])])])]):e._e(),"metadatatransfer"==e.selectedActionType?a("div",{staticClass:"lava-transfer-container  m-4 p-4"},[a("div",{staticClass:" "},[a("p",[e._v(" Generate a signed Metadata Transfer Message.  This message can be submitted to the Ethereum network by anyone, at which point the tokens will be transferred to the recipient's account.  ")]),a("div",{staticClass:"whitespace-sm"}),a("div",{staticClass:"flex flex-row w-full"},[a("div",{staticClass:"w-1/2 p-4"},[a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Amount")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenQuantity,expression:"transferTokenQuantity"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token amount"},domProps:{value:e.transferTokenQuantity},on:{input:function(t){t.target.composing||(e.transferTokenQuantity=t.target.value)}}})]),a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Recipient")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenRecipient,expression:"transferTokenRecipient"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token recipient"},domProps:{value:e.transferTokenRecipient},on:{input:function(t){t.target.composing||(e.transferTokenRecipient=t.target.value)}}})]),a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Authority")]),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.relayAuthorityType,expression:"relayAuthorityType"}],staticClass:" text-black  ",attrs:{onchange:" ",placeholder:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.relayAuthorityType=t.target.multiple?a:a[0]}}},[a("option",[e._v("any relayers")])])])]),a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Reward (tokens)")]),e._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenRelayReward,expression:"transferTokenRelayReward"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token relay reward"},domProps:{value:e.transferTokenRelayReward},on:{input:function(t){t.target.composing||(e.transferTokenRelayReward=t.target.value)}}})]),a("div",{staticClass:"whitespace-sm"}),a("div",{staticClass:"button inline-block bg-green-500 hover:bg-green-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSignMetadataPacket}},[e._v(" Sign ")])]),a("div",{staticClass:"w-1/2 p-4 "},[a("div",{staticClass:"is-size-6"}),e.lavaMetadata?a("p",[e._v(" Specify the URL for a Lava Network Node and broadcast this packet to the Lava Network Relayers.  They will submit the packet to the Ethereum Network if the reward is high enough.  ")]):e._e(),e.lavaMetadata?a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Node URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.relayNodeURL,expression:"relayNodeURL"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"xxx.xxx.xxx.xxx:yyyy"},domProps:{value:e.relayNodeURL},on:{input:function(t){t.target.composing||(e.relayNodeURL=t.target.value)}}}),a("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?a("div",{attrs:{id:"btn-broadcast-lava-packet"}},[a("div",{staticClass:"button inline-block bg-blue-500 hover:bg-blue-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionBroadcastMetadataPacket}},[e._v("Broadcast Lava Packet To Relay")])]):e._e(),e.lavaMetadata&&e.broadcastMessage?a("div",{staticClass:"subtitle color-primary has-text-centered"},[e._v("\n                     "+e._s(e.broadcastMessage)+"\n                   ")]):e._e(),a("div",{staticClass:"whitespace-sm"})]):e._e(),a("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?a("div",{staticClass:"form-group padding-md"},[a("div",[e._v(" Meta Packet ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.lavaMetadata,expression:"lavaMetadata"}],staticClass:"text-black",domProps:{value:e.lavaMetadata},on:{input:function(t){t.target.composing||(e.lavaMetadata=t.target.value)}}})]):e._e(),a("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?a("div",{staticClass:"button inline-block bg-purple-500 hover:bg-purple-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSubmitMetadataPacket}},[e._v(" Submit Metadata Tx ")]):e._e(),e.pendingTransaction?a("div",{staticClass:"loader inline-block"}):e._e()])])])]):e._e()]):e._e()},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("div",{staticClass:"icon is-small inline"},[a("i",{staticClass:"material-icons"},[e._v("file_download")])]),a("div",{staticClass:"inline "},[e._v("Permit For Lava")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("div",{staticClass:"icon is-small one-third inline"},[a("i",{staticClass:"material-icons"},[e._v("fast_forward")])]),a("div",{staticClass:"inline "},[e._v("Standard Transfer")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("div",{staticClass:"icon is-small one-third inline"},[a("i",{staticClass:"material-icons"},[e._v("fast_forward")])]),a("div",{staticClass:"inline "},[e._v("Metadata Transfer")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v(" Optional ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v(" Optional ")])])}],D=a("75fc"),E=(a("8615"),a("6b54"),a("bd86")),I=(a("7f7f"),a("e69e")),B=a("e11a"),F=(a("5d79"),a("eb0d")),U=a("7618"),W=a("8e27"),H=function(){function e(){Object(h["a"])(this,e)}return Object(b["a"])(e,null,[{key:"serializePacketData",value:function(e,t){var a,n=[];for(a in e)if(e.hasOwnProperty(a)){var s=t?t+"["+a+"]":a,r=e[a];n.push(null!==r&&"object"===Object(U["a"])(r)?serialize(r,s):encodeURIComponent(s)+"="+encodeURIComponent(r))}return n.join("&")}},{key:"sendLavaPacket",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=Object(W["io"])(t),s.emit("lavaPacket",{packet:a}),s.on("lavaPacket",(function(e){console.log("got back",e),n(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getPacketHistory",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=Object(W["io"])(t),s.emit("recentPacketHistory",{publicAddress:a}),s.on("recentPacketHistory",(function(e){console.log("got back",e),n(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"sendPermitPacket",value:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=Object(W["io"])(t),s.emit("permitPacket",{packet:a}),s.on("permitPacket",(function(e){console.log("got back",e),n(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()}]),e}(),$=a("99e5").utils,Q=a("68af"),J=a("a388"),z=(a("b671"),a("bc3a"),{name:"ActionContainer",props:["shouldRender","selectedActionAsset","web3Plug"],components:{},data:function(){return{pendingTransaction:!1,selectedActionType:"permit",permitTokenQuantity:null,permitMetaData:null,transferTokenQuantity:null,transferTokenRecipient:null,transferTokenRelayReward:null,relayAuthorityType:["any relayers"],relayNodeURL:null,broadcastMessage:null,lavaMetadata:null}},methods:{selectAction:function(e){this.selectedActionType=e},actionPermitTokens:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("permit!!",this.permitTokenQuantity,this.selectedActionAsset),a=this.selectedActionAsset,e.next=4,this.web3Plug.getConnectedAccounts();case 4:return n=e.sent,s=this.web3Plug.web3.utils.toChecksumAddress(n[0]),r=this.web3Plug.getContractDataForActiveNetwork(),i=r["LavaWallet"].address,o=this.web3Plug.getCustomContract(this.web3Plug.web3,Q,a.address),e.next=11,o.methods.name().call();case 11:return l=e.sent,c={tokenAddress:$.toChecksumAddress(a.address),permitFrom:$.toChecksumAddress(s),permitTo:$.toChecksumAddress(i),expires:0,allowed:!0},e.next=15,I["a"].performOffchainSignForPermit(c,this.web3Plug);case 15:u=e.sent,this.permitMetaData=JSON.stringify((t={tokenName:l,tokenAddress:a.address,from:u.from,to:u.to},Object(E["a"])(t,"tokenAddress",u.tokenAddress),Object(E["a"])(t,"nonce",u.nonce),Object(E["a"])(t,"expires",u.expires),Object(E["a"])(t,"allowed",u.allowed),Object(E["a"])(t,"signature",u.signature),t));case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSubmitPermit:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.selectedActionAsset,e.next=3,this.web3Plug.getConnectedAccounts();case 3:return n=e.sent,s=window.web3.utils.toChecksumAddress(n[0]),this.web3Plug.getContractDataForActiveNetwork(),r=this.web3Plug.getCustomContract(this.web3Plug.web3,Q,a.address),i=JSON.parse(this.permitMetaData),console.log("metadata",i),o=B["a"].signatureToVRS(i.signature),l=[$.toChecksumAddress(i.from),$.toChecksumAddress(i.to),i.nonce,i.expires,i.allowed,o.v,o.r,o.s],console.log("myTokenContract",r),console.log("permissibleTokenABI",Q),this.pendingTransaction=!0,e.next=16,(t=r.methods).permit.apply(t,l).send({from:s});case 16:c=e.sent,console.log("txResult",c),this.permitMetaData=null,this.pendingTransaction=!1;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSignLavaPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("SignLavaPacket!!"),t=this.selectedActionAsset,e.next=4,this.web3Plug.getConnectedAccounts();case 4:return a=e.sent,n=window.web3.utils.toChecksumAddress(a[0]),s=this.web3Plug.getContractDataForActiveNetwork(),r=s["LavaWallet"].address,i=t.decimals,o={method:$.fromAscii("transfer"),relayAuthority:"0x0000000000000000000000000000000000000000",from:n,to:this.transferTokenRecipient,walletAddress:r,tokenAddress:t.address,tokenAmount:this.web3Plug.formattedAmountToRaw(this.transferTokenQuantity,i).toString(),relayerReward:this.web3Plug.formattedAmountToRaw(this.transferTokenRelayReward,i).toString(),expires:0,nonce:F["a"].generateRandomNonce()},console.log("lavaPacketInputData",o),e.next=13,F["a"].performOffchainSignForLavaPacket(o,this.web3Plug);case 13:l=e.sent,console.log("signResult",l),this.lavaMetadata=JSON.stringify(Object.assign(o,{signature:l.signature}));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSubmitLava:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.selectedActionAsset,e.next=3,this.web3Plug.getConnectedAccounts();case 3:return a=e.sent,n=window.web3.utils.toChecksumAddress(a[0]),s=this.web3Plug.getContractDataForActiveNetwork(),r=s["LavaWallet"].address,i=this.web3Plug.getCustomContract(this.web3Plug.web3,J,r),o=JSON.parse(this.lavaMetadata),console.log("metadata",o),delete o["walletAddress"],l=Object.values(o),console.log("lavaArgs",l),this.pendingTransaction=!0,e.next=16,(t=i.methods).transferTokensWithSignature.apply(t,Object(D["a"])(l)).send({from:n});case 16:c=e.sent,console.log("txResult",c),this.permitMetaData=null,this.pendingTransaction=!1;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionBroadcastLavaPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("broadcast lava packet "),t=this.relayNodeURL,a=JSON.parse(this.lavaMetadata),n=a,this.broadcastMessage=null,e.next=7,H.sendLavaPacket(t,n);case 7:s=e.sent,console.log(s),s.gotReply&&(r=s.response,r.success?this.broadcastMessage="Broadcast successful.":this.broadcastMessage=r.message);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSignMetadataPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("actionSignMetadataPacket!!"),t=this.selectedActionAsset,e.next=4,this.web3Plug.getConnectedAccounts();case 4:return a=e.sent,n=this.web3Plug.web3.utils.toChecksumAddress(a[0]),s=this.web3Plug.getContractDataForActiveNetwork(),r=s["LavaWallet"].address,i=t.decimals,o=this.web3Plug.web3.eth.abi.encodeParameters(["address","bytes32","bytes32"],[this.transferTokenRecipient,"0x3","0x4"]),l=s["MetadataMiddleman"].address,c={method:o,relayAuthority:"0x0000000000000000000000000000000000000000",from:n,to:l,walletAddress:r,tokenAddress:t.address,tokenAmount:this.web3Plug.formattedAmountToRaw(this.transferTokenQuantity,i).toString(),relayerReward:this.web3Plug.formattedAmountToRaw(this.transferTokenRelayReward,i).toString(),expires:0,nonce:F["a"].generateRandomNonce()},console.log("lavaPacketInputData",c),e.next=15,F["a"].performOffchainSignForLavaPacket(c,this.web3Plug);case 15:u=e.sent,console.log("signResult",u),this.lavaMetadata=JSON.stringify(Object.assign(c,{signature:u.signature}));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSubmitMetadataPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.selectedActionAsset,e.next=3,this.web3Plug.getConnectedAccounts();case 3:return a=e.sent,n=window.web3.utils.toChecksumAddress(a[0]),s=this.web3Plug.getContractDataForActiveNetwork(),r=s["LavaWallet"].address,i=this.web3Plug.getCustomContract(this.web3Plug.web3,J,r),o=JSON.parse(this.lavaMetadata),console.log("metadata",o),delete o["walletAddress"],l=Object.values(o),console.log("lavaArgs",l),this.pendingTransaction=!0,e.next=16,(t=i.methods).transferAndCallWithSignature.apply(t,Object(D["a"])(l)).send({from:n});case 16:c=e.sent,console.log("txResult",c),this.permitMetaData=null,this.pendingTransaction=!1;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionBroadcastMetadataPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("broadcast metadata packet "),t=this.relayNodeURL,a=JSON.parse(this.lavaMetadata),n=a,this.broadcastMessage=null,e.next=7,H.sendLavaPacket(t,n);case 7:s=e.sent,console.log(s),s.gotReply&&(r=s.response,r.success?this.broadcastMessage="Broadcast successful.":this.broadcastMessage=r.message);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionBroadcastPermitPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("broadcast permit packet "),t=this.relayNodeURL,a=JSON.parse(this.permitMetaData),n=a,this.broadcastMessage=null,e.next=7,H.sendPermitPacket(t,n);case 7:s=e.sent,console.log(s),s.success&&(this.broadcastMessage="Broadcast successful.");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),V=z,q=Object(l["a"])(V,j,L,!1,null,null,null),G=q.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar w-nav",attrs:{"data-collapse":"small","data-animation":"default","data-duration":"400"}},[a("div",{staticClass:"bg-gray-900  "},[a("div",{staticClass:"container w-container"},[a("div",{staticClass:"w-full flex",staticStyle:{"min-height":"50px"}},[e._m(0),a("div",{staticClass:"hidden lg:inline-block  flex-grow-0"},[a("UpperNav")],1),a("div",{staticClass:"inline-block lg:hidden  flex-grow-0 p-4"},[a("button",{staticClass:"flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white",on:{click:function(t){e.showResponsiveMenu=!e.showResponsiveMenu}}},[a("svg",{staticClass:"fill-current h-3 w-3",attrs:{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[a("title",[e._v("Menu")]),a("path",{attrs:{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"}})])]),e.showResponsiveMenu?a("div",{staticClass:"w-full absolute left-0 block flex-grow lg:flex lg:items-center lg:w-auto bg-gray-800"},[a("div",{staticClass:"text-sm lg:flex-grow"},[a("AccordionNav")],1)]):e._e()])])])])])},Y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-grow"},[a("div",{staticClass:"h-full py-6"},[a("a",{staticClass:"brand w-nav-brand w--current  ",attrs:{href:"/"}},[a("img",{staticClass:"w-6 m-2 inline",attrs:{src:"/assets/images/0xbtc_8.png",height:"75",alt:""}}),a("div",{staticClass:" text-block-10 inline"},[e._v("Coinpurse.cc")])])])])}],K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"w-full m-2 p-2 inline-block",attrs:{role:"navigation"}},e._l(e.navConfig.dropdowns,(function(t){return a("div",{key:t.title,staticClass:"w-full lg:w-auto block lg:inline-block"},[a("t-dropdown",{staticClass:"w-full",scopedSlots:e._u([{key:"trigger",fn:function(n){var s=n.mousedownHandler,r=n.focusHandler,i=n.blurHandler,o=n.keydownHandler,l=n.isShown;return a("div",{},[a("button",{staticClass:"flex text-md  p-2 m-1 mx-2 text-gray-100 items-center pr-3 bg-transparent focus:outline-none focus:shadow-solid transition duration-150 ease-in-out border-2 border-gray-200",class:{"border-gray-300 bg-gray-500 text-white ":l},attrs:{"aria-label":"User menu","aria-haspopup":"true"},on:{mousedown:s,focus:r,blur:i,keydown:o}},[a("span",{staticClass:"px-2"},[e._v(e._s(t.title))]),a("i",{staticClass:"fas fa-caret-down "})])])}},{key:"default",fn:function(n){n.hide;var s=n.blurHandler;return a("div",{staticClass:"origin-top-right absolute right-0 w-56 shadow-lg text-md bg-gray-900 text-white"},e._l(t.rows,(function(t){return a("a",{key:t.title,staticClass:"block w-full px-4 py-2   leading-5   hover:bg-gray-600 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out",attrs:{href:t.url,target:"_blank",role:"menuitem"},on:{blur:s}},[e._v("\n          "+e._s(t.title)+"\n        ")])})),0)}}],null,!0)})],1)})),0)},X=[],ee={dropdowns:[{title:"COMMUNITY",rows:[{title:"Github",url:"https://github.com/coinpurse-cc"}]}]},te=ee,ae={name:"UpperNav",props:[],data:function(){return{navConfig:null}},created:function(){this.navConfig=te},methods:{}},ne=ae,se=Object(l["a"])(ne,K,X,!1,null,null,null),re=se.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"w-full m-2 p-2 inline-block",attrs:{role:"navigation"}},e._l(e.navConfig.dropdowns,(function(t){return a("div",{key:t.title,staticClass:"w-full lg:w-auto block lg:inline-block"},[a("t-dropdown",{staticClass:"bg-blue-800",attrs:{"tag-name":"nav",classes:{},"fixed-classes":{}},scopedSlots:e._u([{key:"trigger",fn:function(n){var s=n.mousedownHandler,r=(n.focusHandler,n.blurHandler),i=n.keydownHandler,o=n.isShown;return a("div",{staticClass:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},[a("div",{staticClass:"flex justify-between h-16"},[a("div",{staticClass:"flex ml-auto"},[a("div",{staticClass:"-ml-2 mr-2 flex items-center lg:hidden"},[a("div",{staticClass:"flex-shrink-0 flex items-center text-white"},[a("span",{staticClass:"px-2"},[e._v(e._s(t.title))])]),a("button",{staticClass:"inline-flex items-center justify-center p-2 rounded-md text-blue-400 hover:text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 focus:text-white transition duration-150 ease-in-out",attrs:{"aria-label":"Main menu","aria-expanded":"false"},on:{mousedown:s,blur:r,keydown:i}},[a("svg",{staticClass:"h-6 w-6",class:{hidden:o,block:!o},attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"}})]),a("svg",{staticClass:"h-6 w-6",class:{hidden:!o,block:o},attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])])])])}}],null,!0)},[a("div",{staticClass:"lg:hidden"},[a("div",{staticClass:"px-2 pt-2 pb-3 sm:px-3"},e._l(t.rows,(function(t){return a("a",{key:t.title,staticClass:"block px-3 py-2 my-2 rounded-md text-base font-medium text-white bg-blue-900 hover:bg-blue-500 focus:outline-none focus:text-white focus:bg-blue-700 transition duration-150 ease-in-out",attrs:{href:t.url,target:"_blank"}},[e._v("\n            "+e._s(t.title)+"\n          ")])})),0)])])],1)})),0)},oe=[],le={name:"AccordionNav",props:[],data:function(){return{navConfig:null}},created:function(){this.navConfig=te},methods:{}},ce=le,ue=Object(l["a"])(ce,ie,oe,!1,null,null,null),de=ue.exports,pe={name:"Navbar",props:[],components:{UpperNav:re,AccordionNav:de},data:function(){return{showResponsiveMenu:!1}},methods:{}},me=pe,ye=Object(l["a"])(me,Z,Y,!1,null,null,null),fe=ye.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-shrink-0 py-12 text-center "},[a("div",[a("router-link",{staticClass:"font-semibold text-gray-700 hover:underline",attrs:{to:"/"}},[e._v("Home")]),a("span",{staticClass:"mx-4 text-gray-500"},[e._v("|")]),a("router-link",{staticClass:"font-semibold text-gray-700 hover:underline",attrs:{to:"/docs"}},[e._v("Docs")])],1),e._m(0)])},be=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-2"},[a("a",{staticClass:"text-sm font-semibold text-gray-600 hover:underline",attrs:{href:"https://github.com/coinpurse-cc"}},[e._v("\n      Source on GitHub\n    ")])])}],he={name:"Footer",data:function(){return{}},methods:{}},ge=he,we=Object(l["a"])(ge,ve,be,!1,null,null,null),ke=we.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inline-block button text-gray-200  bg-gray-900 hover:bg-gray-700   font-bold py-0 px-1 rounded cursor-pointer"},[a("div",{staticClass:"text-green-500 text-xl inline  ",staticStyle:{"text-shadow":"0px 0px 2px #66dd00"}},[e._v("  ·  ")]),e._v(e._s(e.getNetworkName())+"\n")])},Ce=[],Ae={name:"Web3NetButton",props:["web3Plug"],components:{},data:function(){return{showResponsiveMenu:!1}},methods:{getNetworkName:function(){var e=this.web3Plug.getConnectionState().activeNetworkId;return 1==e?"Mainnet":42==e?"Kovan":100==e?"xDai":"InvalidNetwork"}}},_e=Ae,Te=Object(l["a"])(_e,xe,Ce,!1,null,null,null),Pe=Te.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"asset-list bg-gray-400 px-8",attrs:{id:"asset-list"}},[a("table",{staticClass:"table-auto w-full text-black"},[e._m(0),a("tbody",e._l(e.tokenDataArray,(function(t,n){return a("tr",{staticClass:"hover:bg-gray-200 cursor-pointer select-none",attrs:{"data-tokenaddress":t.address},on:{click:function(a){return e.clickedAsset(t)}}},[a("td",{staticClass:"row-cell has-text-centered icon-url py-6"},[a("img",{attrs:{src:t.imgurl,height:"42",width:"42"}})]),a("td",{staticClass:"row-cell has-text-centered token-name"},[e._v(e._s(t.name))]),a("td",{staticClass:"row-cell has-text-centered"},[a("div",{staticClass:"has-text-centered token-balance"},[e._v(e._s(t.balance_formatted))])]),a("td",{staticClass:"row-cell has-text-centered"},[a("div",{staticClass:"has-text-centered token-balance"},[e._v(e._s(t.approved_formatted))])])])})),0)])])},Me=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",{staticClass:"  text-black font-bold border-b-2 border-black"},[a("td",{staticClass:"has-text-centered"},[e._v(" Icon ")]),a("td",{staticClass:"has-text-centered"},[e._v(" Name ")]),a("td",{staticClass:"has-text-centered"},[e._v(" Balance ")]),a("td",{staticClass:"has-text-centered"},[e._v(" Approved ")])])])}];a("ac4d"),a("8a81"),a("5df3"),a("1c4c");function Ne(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Se(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw r}}}}function Se(e,t){if(e){if("string"===typeof e)return Oe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var je,Le,De,Ee=a("2dc0"),Ie=a("68af"),Be={name:"AssetList",props:["networkName","web3Plug","onSelectedAssetCallback"],data:function(){return{tokenDataArray:[],forceSelectAsset:null}},mounted:function(){je=setInterval(this.update.bind(this),5e3),this.updateTokenArray()},destroyed:function(){clearInterval(je)},methods:{update:function(){this.updateTokenArray()},updateTokenArray:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l,c,u,d,p,m,y,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Ee.networks[this.networkName],a=this.web3Plug.getContractDataForActiveNetwork(),n=a["LavaWallet"].address,s=[],e.next=6,this.web3Plug.getConnectedAccounts();case 6:r=e.sent,i=this.web3Plug.web3.utils.toChecksumAddress(r[0]),o=t.map((function(e){return a[e]})),l=Ne(o),e.prev=10,l.s();case 12:if((c=l.n()).done){e.next=35;break}if(u=c.value,null!=u){e.next=16;break}return e.abrupt("continue",33);case 16:return d=Object.assign({},u),p=d.decimals,console.log("tokenDecimals",p),m=this.web3Plug.getCustomContract(this.web3Plug.web3,Ie,u.address),e.next=22,m.methods.balanceOf(i).call({from:i});case 22:return y=e.sent,d.balance=y,d.balance_formatted=parseFloat(this.web3Plug.rawAmountToFormatted(d.balance,p)).toFixed(2),e.next=27,m.methods.allowance(i,n).call({from:i});case 27:f=e.sent,d.approved=Math.min(f,y),d.approved_formatted=parseFloat(this.web3Plug.rawAmountToFormatted(d.approved,p)).toFixed(2),s.push(d),console.log("this.forceSelectAsset",this.forceSelectAsset),this.forceSelectAsset&&this.forceSelectAsset.toLowerCase()==d.address.toLowerCase()&&this.onSelectedAssetCallback(d);case 33:e.next=12;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e["catch"](10),l.e(e.t0);case 40:return e.prev=40,l.f(),e.finish(40);case 43:this.tokenDataArray=Object.assign({},s);case 44:case"end":return e.stop()}}),e,this,[[10,37,40,43]])})));function t(){return e.apply(this,arguments)}return t}(),clickedAsset:function(e){this.onSelectedAssetCallback(e)},forceSelectAssetWithAddress:function(e){this.forceSelectAsset=e,console.log("forceSelectAsset",this.forceSelectAsset);var t,a=Ne(this.tokenDataArray);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.address.toLowerCase()==e.toLowerCase())return void this.onSelectedAssetCallback(n)}}catch(s){a.e(s)}finally{a.f()}}}},Fe=Be,Ue=Object(l["a"])(Fe,Re,Me,!1,null,null,null),We=Ue.exports,He=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$e=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lava-packet-dropzone bg-red-200",attrs:{id:"lava-packet-dropzone "}},[a("div",{staticClass:"subtitle is-size-3"},[e._v("Drop Lava Packets Here")]),a("div",{staticClass:"dropzone"},[a("div",{staticClass:"hand-icon-holder"}),a("div",{staticClass:"dropzone-file-input-container"},[a("p",[e._v(" Or select a local file ")]),a("div",{staticClass:"light-box"},[a("input",{staticClass:"dropzone-file-input",attrs:{name:"lavaPacketFile",type:"file"}})])])])])}],Qe={name:"DropZone",data:function(){return{}},methods:{}},Je=Qe,ze=Object(l["a"])(Je,He,$e,!1,null,null,null),Ve=ze.exports,qe={name:"Wallet",components:{Navbar:fe,Footer:ke,ActionContainer:G,Web3NetButton:Pe,AssetList:We,DropZone:Ve},data:function(){return{selectedActionAsset:null,errorMessage:null,web3Plug:null,networkName:null}},created:function(){},methods:{connectToWeb3:function(){this.web3Plug=new O,this.web3Plug.getPlugEventEmitter().on("stateChanged",function(e){console.log("stateChanged",e),this.activeAccountAddress=e.activeAccountAddress,this.activeNetworkId=e.activeNetworkId}.bind(this)),this.web3Plug.getPlugEventEmitter().on("error",function(e){console.error("error",e),this.web3error=e}.bind(this)),this.web3Plug.connectWeb3(),this.networkName=this.web3Plug.getWeb3NetworkName(this.activeNetworkId),console.log("networkName",this.networkName)},connectedToWeb3:function(){return null!=this.web3Plug&&null!=this.web3Plug.getConnectionState().activeNetworkId},getEtherscanBaseURL:function(){var e=this.web3Plug.getConnectionState().activeNetworkId;return 42==e?"https://kovan.etherscan.io":"https://etherscan.io"},onSelectedAssetCallback:function(e){console.log("onSelectedAssetCallback",e),this.selectedActionAsset=e}}},Ge=qe,Ze=Object(l["a"])(Ge,m,y,!1,null,null,null),Ye=Ze.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" container mx-auto bg-gray-800 ",attrs:{id:"wallet"}},[a("Navbar"),a("div",{staticClass:" ",attrs:{id:"jumbotron"}},[a("div",{staticClass:"whitespace-sm"}),a("div",{staticClass:"subtitle color-primary has-text-centered"},[e._v("\n          "+e._s(e.errorMessage)+"\n        ")])]),a("section",{staticClass:"hero  bg-gray-400 flex px-4 text-black"},[e.selectedActionAsset?a("div",{staticClass:"token-titlebar flex p-2"},[a("div",{staticClass:"token-icon  "},[a("img",{attrs:{src:e.selectedActionAsset.imgurl,height:"24",width:"24"}})]),a("div",{staticClass:"token-title px-4 "},[e._v(" "+e._s(e.selectedActionAsset.name)+" ")])]):e._e(),a("div",{staticClass:"flex-grow"}),a("div",{staticClass:"inline-block"},[0==e.connectedToWeb3()?a("div",{staticClass:"button bg-green-500 hover:bg-green-700 text-white font-bold my-2 py-2 px-4 rounded cursor-pointer",on:{click:e.connectToWeb3}},[e._v("Connect to Web3")]):e._e(),e.connectedToWeb3()?a("div",{staticClass:"truncate  text-gray-800 p-2",staticStyle:{"max-width":"250px"}},[a("Web3NetButton",{attrs:{web3Plug:e.web3Plug}}),a("span",{staticClass:"  ",staticStyle:{"max-width":"120px"}},[a("a",{staticClass:"text-gray-800  ",attrs:{href:e.getEtherscanBaseURL()+"/address/"+e.activeAccountAddress,target:"_blank"}},[e._v("  "+e._s(e.activeAccountAddress)+" ")])])],1):e._e()])]),1==e.connectedToWeb3()?a("section",{staticClass:"hero   "},[a("div",{staticClass:"hero-body"},[a("TippingContainer",{attrs:{shouldRender:!0,selectedActionAsset:e.selectedActionAsset,web3Plug:e.web3Plug,urlParameters:e.urlParameters}}),a("div",{staticClass:"whitespace-md"}),1==e.connectedToWeb3()?a("AssetList",{ref:"assetList",attrs:{networkName:e.networkName,onSelectedAssetCallback:e.onSelectedAssetCallback,web3Plug:e.web3Plug}}):e._e()],1)]):e._e(),a("Footer")],1)},Xe=[],et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.shouldRender&&e.selectedActionAsset?a("div",{staticClass:"action-container box  bg-gray-600 px-8",attrs:{id:"action-container"}},[a("div",{staticClass:"tabs flex flex-col sm:flex-row select-none"},[a("div",{staticClass:"tab bg-gray-700 text-gray-300 py-4 px-6 block hover:text-blue-500 focus:outline-none cursor-pointer",class:{"text-blue-500 bg-gray-800":0==e.tokensArePermitted()}},[e._m(0)]),a("div",{staticClass:"tab bg-gray-700 text-gray-300 py-4 px-6 block hover:text-blue-500 focus:outline-none cursor-pointer",class:{"text-blue-500 bg-gray-800":1==e.tokensArePermitted()}},[e._m(1)])]),0==e.tokensArePermitted()?a("div",{staticClass:"approve-container m-4 p-4"},[a("div",{staticClass:"input-container padding-md"},[a("div",{staticClass:"label"},[e._v("Approve Tokens")]),a("div",{staticClass:"flex flex-row w-full"},[a("div",{staticClass:" flex-grow w-1/2"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.permitTokenQuantity,expression:"permitTokenQuantity"}],staticClass:" hidden h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline ",attrs:{type:"text",placeholder:"token amount"},domProps:{value:e.permitTokenQuantity},on:{input:function(t){t.target.composing||(e.permitTokenQuantity=t.target.value)}}}),a("div",{staticClass:"button inline-block bg-green-500 hover:bg-green-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionPermitTokens}},[e._v(" Permit All ")])])]),a("div",{staticClass:"  flex-grow  w-1/2"},[e.permitMetaData?a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Node URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.relayNodeURL,expression:"relayNodeURL"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"xxx.xxx.xxx.xxx:yyyy"},domProps:{value:e.relayNodeURL},on:{input:function(t){t.target.composing||(e.relayNodeURL=t.target.value)}}}),a("div",{staticClass:"whitespace-sm"}),e.permitMetaData?a("div",{attrs:{id:"btn-broadcast-lava-packet"}},[a("div",{staticClass:"button inline-block bg-blue-500 hover:bg-blue-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionBroadcastPermitPacket}},[e._v("Broadcast Permit Packet To Relay")])]):e._e(),e.permitMetaData&&e.broadcastMessage?a("div",{staticClass:"subtitle color-primary has-text-centered"},[e._v("\n                     "+e._s(e.broadcastMessage)+"\n                   ")]):e._e(),a("div",{staticClass:"whitespace-sm"})]):e._e(),a("div",{staticClass:"whitespace-sm"}),e.permitMetaData?a("div",[a("div",[e._v(" Meta Packet ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.permitMetaData,expression:"permitMetaData"}],staticClass:"text-black",domProps:{value:e.permitMetaData},on:{input:function(t){t.target.composing||(e.permitMetaData=t.target.value)}}})]):e._e(),e.permitMetaData?a("div",{staticClass:"button inline-block bg-purple-500 hover:bg-purple-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSubmitPermit}},[e._v(" Submit Meta Tx ")]):e._e(),e.pendingTransaction?a("div",{staticClass:"loader inline-block"}):e._e()])])])]):e._e(),1==e.tokensArePermitted()?a("div",{staticClass:"lava-transfer-container  m-4 p-4"},[a("div",{staticClass:" "},[a("p",[e._v(" Generate a signed Meta Transaction Message.  This message can be submitted to the EVM by anyone, at which point the tokens will be transferred to the recipient's account.  ")]),a("div",{staticClass:"whitespace-sm"}),a("div",{staticClass:"flex flex-row w-full"},[a("div",{staticClass:"w-1/2 p-4"},[a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Amount")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenQuantity,expression:"transferTokenQuantity"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token amount"},domProps:{value:e.transferTokenQuantity},on:{input:function(t){t.target.composing||(e.transferTokenQuantity=t.target.value)}}})]),a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Recipient")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenRecipient,expression:"transferTokenRecipient"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token recipient"},domProps:{value:e.transferTokenRecipient},on:{input:function(t){t.target.composing||(e.transferTokenRecipient=t.target.value)}}})]),a("div",{staticClass:"form-group padding-md hidden "},[a("div",{staticClass:"label"},[e._v("Relay Authority")]),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.relayAuthorityType,expression:"relayAuthorityType"}],staticClass:" text-black  ",attrs:{onchange:" ",placeholder:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.relayAuthorityType=t.target.multiple?a:a[0]}}},[a("option",[e._v("any relayers")])])])]),a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Reward (tokens)")]),e._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferTokenRelayReward,expression:"transferTokenRelayReward"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"token relay reward"},domProps:{value:e.transferTokenRelayReward},on:{input:function(t){t.target.composing||(e.transferTokenRelayReward=t.target.value)}}})]),a("div",{staticClass:"whitespace-sm"}),a("div",{staticClass:"button inline-block bg-green-500 hover:bg-green-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionSignLavaPacket}},[e._v(" Sign ")])]),a("div",{staticClass:"w-1/2 p-4 "},[a("div",{staticClass:"is-size-6"}),e.lavaMetadata?a("p",[e._v(" Specify the URL for a Lava Network Node and broadcast this packet to the Lava Network Relayers.  They will submit the packet to the Ethereum Network if the reward is high enough.  ")]):e._e(),e.lavaMetadata?a("div",{staticClass:"form-group padding-md"},[a("div",{staticClass:"label"},[e._v("Relay Node URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.relayNodeURL,expression:"relayNodeURL"}],staticClass:"w-full h-10 px-3 mb-2 text-base text-gray-700 placeholder-gray-600 border rounded-lg focus:shadow-outline",attrs:{placeholder:"xxx.xxx.xxx.xxx:yyyy"},domProps:{value:e.relayNodeURL},on:{input:function(t){t.target.composing||(e.relayNodeURL=t.target.value)}}}),a("div",{staticClass:"whitespace-sm"}),e.lavaMetadata?a("div",{attrs:{id:"btn-broadcast-lava-packet"}},[a("div",{staticClass:"button inline-block bg-blue-500 hover:bg-blue-700 text-white font-bold m-2 py-2 px-4 rounded cursor-pointer",on:{click:e.actionBroadcastLavaPacket}},[e._v("Broadcast Lava Packet To Relay")])]):e._e(),e.lavaMetadata&&e.broadcastMessage?a("div",{staticClass:"subtitle color-primary has-text-centered"},[e._v("\n                     "+e._s(e.broadcastMessage)+"\n                   ")]):e._e(),e.lavaMetadata&&e.broadcastResults?a("div",{staticClass:"subtitle color-primary has-text-centered"},[a("table",{staticClass:"table-auto bg-gray-800 text-gray-200 p-2 m-2"},[e._m(3),a("tbody",[a("tr",[a("td",{staticClass:"p-2 "},[e._v("Tx Hash")]),e.broadcastResults.txdata?a("td",{staticClass:"p-2 overflow-ellipsis overflow-hidden",staticStyle:{"max-width":"340px"}},[a("a",{staticClass:"text-blue-400",attrs:{target:"_blank",href:"https://blockscout.com/poa/xdai/tx/"+e.broadcastResults.txdata.txhash}},[e._v("\n                                "+e._s(e.broadcastResults.txdata.txhash)+"\n                                ")])]):e._e()]),a("tr",{staticClass:"bg-emerald-200"},[a("td",[e._v("Status")]),a("td",[e._v(" "+e._s(e.broadcastResults.status))])])])])]):e._e(),a("div",{staticClass:"whitespace-sm"})]):e._e(),a("div",{staticClass:"whitespace-sm"}),e.lavaMetadata&&!e.broadcastResults?a("div",{staticClass:"form-group padding-md"},[a("div",[e._v(" Meta Packet ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.lavaMetadata,expression:"lavaMetadata"}],staticClass:"text-black",domProps:{value:e.lavaMetadata},on:{input:function(t){t.target.composing||(e.lavaMetadata=t.target.value)}}})]):e._e()])])])]):e._e()]):e._e()},tt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("div",{staticClass:"icon is-small inline"},[a("i",{staticClass:"material-icons"},[e._v("file_download")])]),a("div",{staticClass:"inline "},[e._v("Permit")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",[a("div",{staticClass:"icon is-small one-third inline"},[a("i",{staticClass:"material-icons"},[e._v("fast_forward")])]),a("div",{staticClass:"inline "},[e._v("Meta Tip")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v(" Optional ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th"),a("th")])])}],at=a("99e5").utils,nt=a("68af"),st=a("a388"),rt=(a("b671"),a("bc3a"),{name:"TippingContainer",props:["shouldRender","selectedActionAsset","urlParameters","web3Plug"],components:{},data:function(){return{pendingTransaction:!1,selectedActionType:"permit",permitTokenQuantity:null,permitMetaData:null,transferTokenQuantity:null,transferTokenRecipient:null,transferTokenRelayReward:0,relayAuthorityType:["any relayers"],relayNodeURL:"wss://xdai.apexrelay.com:8443",broadcastMessage:null,broadcastResults:null,lavaMetadata:null}},mounted:function(){this.transferTokenRecipient=this.urlParameters.to,this.transferTokenQuantity=this.urlParameters.amountFormatted,De=setInterval(this.pollForPacketHistory.bind(this),5e3)},beforeDestroy:function(){clearInterval(De)},methods:{selectAction:function(e){this.selectedActionType=e},tokensArePermitted:function(){var e=this.selectedActionAsset;return!isNaN(parseInt(e.approved))&&parseInt(e.approved)==parseInt(e.balance)},actionPermitTokens:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("permit!!",this.permitTokenQuantity,this.selectedActionAsset),a=this.selectedActionAsset,e.next=4,this.web3Plug.getConnectedAccounts();case 4:return n=e.sent,s=this.web3Plug.web3.utils.toChecksumAddress(n[0]),r=this.web3Plug.getContractDataForActiveNetwork(),i=r["LavaWallet"].address,o=this.web3Plug.getCustomContract(this.web3Plug.web3,nt,a.address),e.next=11,o.methods.name().call();case 11:return l=e.sent,c={tokenAddress:at.toChecksumAddress(a.address),permitFrom:at.toChecksumAddress(s),permitTo:at.toChecksumAddress(i),expires:0,allowed:!0},e.next=15,I["a"].performOffchainSignForPermit(c,this.web3Plug);case 15:u=e.sent,this.permitMetaData=JSON.stringify((t={tokenName:l,tokenAddress:a.address,from:u.from,to:u.to},Object(E["a"])(t,"tokenAddress",u.tokenAddress),Object(E["a"])(t,"nonce",u.nonce),Object(E["a"])(t,"expires",u.expires),Object(E["a"])(t,"allowed",u.allowed),Object(E["a"])(t,"signature",u.signature),t));case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSubmitPermit:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.selectedActionAsset,e.next=3,this.web3Plug.getConnectedAccounts();case 3:return n=e.sent,s=window.web3.utils.toChecksumAddress(n[0]),this.web3Plug.getContractDataForActiveNetwork(),r=this.web3Plug.getCustomContract(this.web3Plug.web3,nt,a.address),i=JSON.parse(this.permitMetaData),console.log("metadata",i),o=B["a"].signatureToVRS(i.signature),l=[at.toChecksumAddress(i.from),at.toChecksumAddress(i.to),i.nonce,i.expires,i.allowed,o.v,o.r,o.s],console.log("myTokenContract",r),console.log("permissibleTokenABI",nt),this.pendingTransaction=!0,e.next=16,(t=r.methods).permit.apply(t,l).send({from:s});case 16:c=e.sent,console.log("txResult",c),this.permitMetaData=null,this.pendingTransaction=!1;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSignLavaPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("SignLavaPacket!!"),t=this.selectedActionAsset,e.next=4,this.web3Plug.getConnectedAccounts();case 4:return a=e.sent,n=window.web3.utils.toChecksumAddress(a[0]),s=this.web3Plug.getContractDataForActiveNetwork(),r=s["LavaWallet"].address,i=t.decimals,o={method:at.fromAscii("transfer"),relayAuthority:"0x0000000000000000000000000000000000000000",from:n,to:this.transferTokenRecipient,walletAddress:r,tokenAddress:t.address,tokenAmount:this.web3Plug.formattedAmountToRaw(this.transferTokenQuantity,i).toString(),relayerReward:this.web3Plug.formattedAmountToRaw(this.transferTokenRelayReward,i).toString(),expires:0,nonce:F["a"].generateRandomNonce()},this.broadcastMessage=null,this.broadcastResults=null,console.log("lavaPacketInputData",o),e.next=15,F["a"].performOffchainSignForLavaPacket(o,this.web3Plug);case 15:l=e.sent,console.log("signResult",l),this.lavaMetadata=JSON.stringify(Object.assign(o,{signature:l.signature}));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionSubmitLava:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.selectedActionAsset,e.next=3,this.web3Plug.getConnectedAccounts();case 3:return a=e.sent,n=window.web3.utils.toChecksumAddress(a[0]),s=this.web3Plug.getContractDataForActiveNetwork(),r=s["LavaWallet"].address,i=this.web3Plug.getCustomContract(this.web3Plug.web3,st,r),o=JSON.parse(this.lavaMetadata),console.log("metadata",o),delete o["walletAddress"],l=Object.values(o),console.log("lavaArgs",l),this.pendingTransaction=!0,e.next=16,(t=i.methods).transferTokensWithSignature.apply(t,Object(D["a"])(l)).send({from:n});case 16:c=e.sent,console.log("txResult",c),this.permitMetaData=null,this.pendingTransaction=!1;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionBroadcastLavaPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("broadcast lava packet "),t=this.relayNodeURL,a=JSON.parse(this.lavaMetadata),n=a,this.broadcastMessage=null,this.broadcastResults=null,e.next=8,this.web3Plug.getConnectedAccounts();case 8:return s=e.sent,r=window.web3.utils.toChecksumAddress(s[0]),e.next=12,H.getPacketHistory(t,r);case 12:return i=e.sent,i.success&&(Le=i.packetsArray),e.next=16,H.sendLavaPacket(t,n);case 16:o=e.sent,o.success?(this.broadcastMessage="Broadcast successful.",console.log("got response ",o)):this.broadcastMessage=o.message;case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),pollForPacketHistory:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("poll for packet history "),t=this.relayNodeURL,e.next=4,this.web3Plug.getConnectedAccounts();case 4:if(a=e.sent,n=window.web3.utils.toChecksumAddress(a[0]),!(Le&&Le.length>0)){e.next=11;break}return e.next=9,H.getPacketHistory(t,n);case 9:s=e.sent,s.success&&(r=s.packetsArray,console.log("updatedPacketsArray",r),r&&r.length>Le.length&&(i=r[0],console.log("learned of most recent tx ",i),"pending"!=i.status&&"queued"!=i.status&&(this.broadcastResults=Object.assign({},i),console.log("broadcastResults",this.broadcastResults),Le=null)));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),actionBroadcastPermitPacket:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("broadcast permit packet "),t=this.relayNodeURL,a=JSON.parse(this.permitMetaData),n=a,this.broadcastMessage=null,e.next=7,H.sendPermitPacket(t,n);case 7:s=e.sent,console.log(s),s.success&&(this.broadcastMessage="Broadcast successful.");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),it=rt,ot=Object(l["a"])(it,et,tt,!1,null,null,null),lt=ot.exports,ct=(a("3b2b"),a("a481"),function(){function e(){Object(h["a"])(this,e)}return Object(b["a"])(e,null,[{key:"getParameterByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=a.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}]),e}());function ut(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=dt(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw r}}}}function dt(e,t){if(e){if("string"===typeof e)return pt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?pt(e,t):void 0}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var mt=a("2dc0"),yt={name:"Wallet",components:{Navbar:fe,Footer:ke,TippingContainer:lt,Web3NetButton:Pe,AssetList:We,DropZone:Ve},data:function(){return{selectedActionAsset:null,errorMessage:null,web3Plug:null,networkName:null,urlParameters:{}}},created:function(){},methods:{connectToWeb3:function(){this.web3Plug=new O,this.web3Plug.getPlugEventEmitter().on("stateChanged",function(e){console.log("stateChanged",e),this.activeAccountAddress=e.activeAccountAddress,this.activeNetworkId=e.activeNetworkId}.bind(this)),this.web3Plug.getPlugEventEmitter().on("error",function(e){console.error("error",e),this.web3error=e}.bind(this)),this.web3Plug.connectWeb3(),this.networkName=this.web3Plug.getWeb3NetworkName(this.activeNetworkId),console.log("networkName",this.networkName),this.buildUrlParamsData(),n["default"].nextTick(function(){this.$refs.assetList.forceSelectAssetWithAddress(this.urlParameters.tokenAddress)}.bind(this))},connectedToWeb3:function(){return null!=this.web3Plug&&null!=this.web3Plug.getConnectionState().activeNetworkId},getEtherscanBaseURL:function(){var e=this.web3Plug.getConnectionState().activeNetworkId;return 42==e?"https://kovan.etherscan.io":"https://etherscan.io"},onSelectedAssetCallback:function(e){console.log("onSelectedAssetCallback",e),this.selectedActionAsset=e},buildUrlParamsData:function(){var e,t=ct.getParameterByName("from"),a=ct.getParameterByName("to"),n=ct.getParameterByName("tokenaddress"),s=ct.getParameterByName("amount"),r=mt.networks[this.networkName],i=this.web3Plug.getContractDataForActiveNetwork(),o=ut(r);try{for(o.s();!(e=o.n()).done;){var l=e.value,c=i[l];if(n&&c.address.toLowerCase()==n.toLowerCase()){var u=c.decimals,d=this.web3Plug.rawAmountToFormatted(s,u);return this.urlParameters={from:t,to:a,amountRaw:parseInt(s),amountFormatted:d,decimals:u,tokenAddress:n},void console.log("url params",this.urlParameters)}}}catch(p){o.e(p)}finally{o.f()}}}},ft=yt,vt=Object(l["a"])(ft,Ke,Xe,!1,null,null,null),bt=vt.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" container mx-auto bg-gray-800 ",attrs:{id:"wallet"}},[a("Navbar"),a("div",{staticClass:" ",attrs:{id:"jumbotron"}}),e._m(0),a("Footer")],1)},gt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"hero   "},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"whitespace-md"}),a("div",{staticClass:"container mx-auto p-2 m-2 border-gray-300 border-2"},[a("div",{staticClass:"text-lg text-black bg-gray-300 p-2  "},[e._v(" Getting Started  ")]),a("div",{staticClass:"p-4"},[a("div",{staticClass:"text-md  "},[e._v(" -Once the bot is invited to your server, type '!wallet' in the chat for commands. ")]),a("div",{staticClass:"text-md  "},[e._v(" -Users will need to install "),a("a",{staticClass:"text-blue-500",attrs:{href:"https://metamask.io"}},[e._v("Metamask")]),e._v(" and "),a("a",{staticClass:"text-blue-500",attrs:{href:"https://www.xdaichain.com/for-users/wallets/metamask/metamask-setup"}},[e._v("Configure it for xDai Network")]),e._v(" to send tips. ")])])]),a("div",{staticClass:"container mx-auto p-2 m-2 border-gray-300 border-2"},[a("div",{staticClass:"text-lg text-black bg-gray-300 p-2  "},[e._v(" How it Works  ")]),a("div",{staticClass:"p-4"},[a("div",{staticClass:"text-md  "},[e._v(" This bot leverages Meta-transactions so that users only need to offchain-sign and a relay server submits the transaction to the network along with the gas fee ")]),a("div",{staticClass:"text-md  "},[e._v(" You can read the Meta Transactions contract here: "),a("a",{staticClass:"text-blue-500",attrs:{href:"https://blockscout.com/poa/xdai/address/0x56398FdFD684b40B17B09BB1Cf826ED93A38C489/contracts"}},[e._v(" Lavawallet Metatransactions System Contract ")])])])])])])}],wt={name:"Wallet",components:{Navbar:fe,Footer:ke,ActionContainer:G,Web3NetButton:Pe,AssetList:We,DropZone:Ve},data:function(){return{selectedActionAsset:null,errorMessage:null,web3Plug:null,networkName:null}},created:function(){},methods:{connectToWeb3:function(){this.web3Plug=new O,this.web3Plug.getPlugEventEmitter().on("stateChanged",function(e){console.log("stateChanged",e),this.activeAccountAddress=e.activeAccountAddress,this.activeNetworkId=e.activeNetworkId}.bind(this)),this.web3Plug.getPlugEventEmitter().on("error",function(e){console.error("error",e),this.web3error=e}.bind(this)),this.web3Plug.connectWeb3(),this.networkName=this.web3Plug.getWeb3NetworkName(this.activeNetworkId),console.log("networkName",this.networkName)},connectedToWeb3:function(){return null!=this.web3Plug&&null!=this.web3Plug.getConnectionState().activeNetworkId},getEtherscanBaseURL:function(){var e=this.web3Plug.getConnectionState().activeNetworkId;return 42==e?"https://kovan.etherscan.io":"https://etherscan.io"},onSelectedAssetCallback:function(e){console.log("onSelectedAssetCallback",e),this.selectedActionAsset=e}}},kt=wt,xt=Object(l["a"])(kt,ht,gt,!1,null,null,null),Ct=xt.exports,At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex flex-col items-center justify-center"},[a("div",{staticClass:"m-4 text-xl"},[e._v("  Not Found!  ")]),a("div",[a("router-link",{attrs:{to:"/"}},[e._v("Go Home")])],1)])},_t=[],Tt={name:"NotFound",data:function(){return{}},methods:{}},Pt=Tt,Rt=Object(l["a"])(Pt,At,_t,!1,null,null,null),Mt=Rt.exports;n["default"].use(p["a"]);var Nt=new p["a"]({routes:[{path:"/",name:"home",component:Ye},{path:"/tip",name:"tip",component:bt},{path:"/docs",name:"docs",component:Ct},{path:"/*",component:Mt}]});a("585e"),a("49dd"),a("e932");n["default"].config.productionTip=!1,n["default"].use(r.a),new n["default"]({router:Nt,render:function(e){return e(d)}}).$mount("#app")},"585e":function(e,t,a){},"5d79":function(e,t,a){"use strict";(function(e){a("ac6a"),a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("55dd"),a("7f7f"),a("6b54"),a("6762"),a("2fdb"),a("d225"),a("b0b4");a("81ad"),a("b671")}).call(this,a("1c35").Buffer)},6:function(e,t){},"64a9":function(e,t,a){},"68af":function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"mintingFinished","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_bridgeContract","type":"address"}],"name":"setBridgeContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_sender","type":"address"},{"name":"_recipient","type":"address"},{"name":"_amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"PERMIT_TYPEHASH","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"transferAndCall","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"mint","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_value","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"version","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_subtractedValue","type":"uint256"}],"name":"decreaseApproval","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_token","type":"address"},{"name":"_to","type":"address"}],"name":"claimTokens","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"isBridge","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"finishMinting","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"nonces","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getTokenInterfacesVersion","outputs":[{"name":"major","type":"uint64"},{"name":"minor","type":"uint64"},{"name":"patch","type":"uint64"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_holder","type":"address"},{"name":"_spender","type":"address"},{"name":"_nonce","type":"uint256"},{"name":"_expiry","type":"uint256"},{"name":"_allowed","type":"bool"},{"name":"_v","type":"uint8"},{"name":"_r","type":"bytes32"},{"name":"_s","type":"bytes32"}],"name":"permit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"push","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"move","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"bridgeContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_addedValue","type":"uint256"}],"name":"increaseApproval","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_amount","type":"uint256"}],"name":"pull","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"expirations","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"},{"name":"_decimals","type":"uint8"},{"name":"_chainId","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"from","type":"address"},{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"ContractFallbackCallFailed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[],"name":"MintFinished","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"}],"name":"OwnershipRenounced","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"burner","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":false,"name":"data","type":"bytes"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},7:function(e,t){},8:function(e,t){},9:function(e,t){},9726:function(e){e.exports=JSON.parse('{"networks":{"mainnet":{"wEth":{"name":"Wrapped Ether","symbol":"wEth","decimals":18,"address":"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"},"0xBTC":{"name":"0xBitcoin","symbol":"0xBTC","decimals":8,"supportsDelegateCallDeposit":true,"address":"0xb6ed7644c69416d67b522e20bc294a9a9b405b31"},"DAI":{"name":"DAI Stablecoin","symbol":"DAI","decimals":18,"address":"0x6b175474e89094c44da98b954eedeac495271d0f"}},"kovan":{"TEST":{"name":"Test Token","symbol":"TEST","decimals":18,"address":"0x7b3a2c7d65c357fa4ccf4ba93d3c0781b843a4f3","imgurl":"/assets/images/tokens/dai.png"},"LavaWallet":{"name":"Lava Wallet","address":"0xcaee7daa8c6f56fa8dcdc5b77b2178dbc374e25c"},"SimpleMiddleman":{"name":"Simple Middleman","address":"0x09b025d93cc1198db1f2030c7a25c9864f0fb08e"},"MetadataMiddleman":{"name":"Metadata Middleman","address":"0x135f0c1009c8ed6b049a52b41a636d2c72aa1d46"}},"xdai":{"LavaWallet":{"name":"Lava Wallet","address":"0x56398FdFD684b40B17B09BB1Cf826ED93A38C489"},"weth":{"name":"wEth","decimals":18,"address":"0x6A023CCd1ff6F2045C3309768eAd9E68F978f6e1","imgurl":"/assets/images/tokens/weth.png"},"wxdai":{"name":"wxDai","decimals":18,"address":"0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d","imgurl":"/assets/images/tokens/dai.png"},"zxbtc":{"name":"0xBTC","decimals":8,"address":"0x370825bc4f39c72ba84d290db131bccb35aa1d49","imgurl":"/assets/images/tokens/0xbtc.png"}}}}')},a388:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"chainId","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":false,"inputs":[{"internalType":"bytes","name":"methodName","type":"bytes"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"wallet","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"burnSignature","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"contractName","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"}],"name":"getEIP712DomainHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"getLavaDomainTypehash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"methodName","type":"bytes"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"wallet","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"}],"name":"getLavaPacketHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"getLavaPacketTypehash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"methodName","type":"bytes"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"wallet","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"}],"name":"getLavaTypedDataHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"digest","type":"bytes32"}],"name":"signatureBurnStatus","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"methodName","type":"bytes"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"wallet","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"signatureIsValid","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"methodName","type":"bytes"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"transferAndCallWithSignature","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"methodName","type":"bytes"},{"internalType":"address","name":"relayAuthority","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"},{"internalType":"uint256","name":"relayerRewardTokens","type":"uint256"},{"internalType":"uint256","name":"expires","type":"uint256"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"name":"transferTokensWithSignature","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},e11a:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));a("ac6a"),a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("96cf");var n=a("3b8d"),s=(a("f559"),a("7f7f"),a("55dd"),a("6762"),a("2fdb"),a("d225")),r=a("b0b4");function i(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=o(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw r}}}}function o(e,t){if(e){if("string"===typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var c=a("b671"),u=a("81ad"),d=(a("99e5").utils,function(){function t(){Object(s["a"])(this,t)}return Object(r["a"])(t,null,[{key:"dependencies",value:function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.includes(e))return n;if(void 0===a[e])return n;n.push(e);var s,r=i(a[e]);try{for(r.s();!(s=r.n()).done;){var o,l=s.value,c=i(t.dependencies(l.type,a,n));try{for(c.s();!(o=c.n()).done;){var u=o.value;n.includes(u)||n.push(u)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){r.e(d)}finally{r.f()}return n}},{key:"encodeType",value:function(e,a){var n=t.dependencies(e,a);n=n.filter((function(t){return t!=e})),n=[e].concat(n.sort());var s,r="",o=i(n);try{for(o.s();!(s=o.n()).done;){var l=s.value;r+="".concat(l,"(").concat(a[l].map((function(e){var t=e.name,a=e.type;return"".concat(a," ").concat(t)})).join(","),")")}}catch(c){o.e(c)}finally{o.f()}return r}},{key:"typeHash",value:function(a,n){return c.keccak(e.from(t.encodeType(a,n)))}},{key:"encodeData",value:function(a,n,s){var r=[],o=[];r.push("bytes32"),o.push(t.typeHash(a,s)),console.log("typehash 1  ",t.typeHash(a,s));var l,d=i(s[a]);try{for(d.s();!(l=d.n()).done;){var p=l.value,m=n[p.name];if("string"==p.type||"bytes"==p.type)r.push("bytes32"),m=c.keccak(e.from(m)),console.log("typehash 2  ",m),o.push(m);else if(void 0!==s[p.type])r.push("bytes32"),m=c.keccak(e.from(t.encodeData(p.type,m,s))),o.push(m);else{if(p.type.lastIndexOf("]")===p.type.length-1)throw"TODO: Arrays currently unimplemented in encodeData";r.push(p.type),o.push(m)}}}catch(y){d.e(y)}finally{d.f()}return u.rawEncode(r,o)}},{key:"structHash",value:function(a,n,s){return c.keccak(e.from(t.encodeData(a,n,s)))}},{key:"signatureToVRS",value:function(e){e.startsWith("0x")&&(e=e.substring(2));var t="0x"+e.substring(0,64),a="0x"+e.substring(64,128),n=parseInt(e.substring(128,130),16);return{v:n,r:t,s:a}}},{key:"signTypedData",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,s){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.currentProvider.sendAsync({method:"eth_signTypedData_v3",params:[a,s],from:a},(function(e,t){if(e)return console.error(e);var a=t.result.substring(2),s="0x"+a.substring(0,64),r="0x"+a.substring(64,128),i=parseInt(a.substring(128,130),16);console.log({r:s,s:r,v:i}),console.log("sign returned ",t),n({signature:t.result,v:i,r:s,s:r})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,a,n){return e.apply(this,arguments)}return t}()}]),t}())}).call(this,a("1c35").Buffer)},e69e:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));a("7f7f"),a("96cf");var n=a("3b8d"),s=a("d225"),r=a("b0b4"),i=a("e11a"),o=a("99e5").utils,l=a("b671"),c=a("68af"),u=function(){function t(){Object(s["a"])(this,t)}return Object(r["a"])(t,null,[{key:"getPermitTypedDataHash",value:function(t){var a=o.sha3(e.concat([e.from("1901","hex"),i["a"].structHash("EIP712Domain",t.domain,t.types),i["a"].structHash(t.primaryType,t.message,t.types)]));return a}},{key:"recoverPermitSigner",value:function(e,t){var a=LavaPacketUtils.getLavaTypedDataHash(e,e.types),n=l.toBuffer(t),s=l.fromRpcSig(n),r=l.toBuffer(a),i=l.ecrecover(r,s.v,s.r,s.s),o=l.pubToAddress(i),c=l.bufferToHex(o);e.message;return console.log("recovered signer pub address",c.toLowerCase()),c.toLowerCase()}},{key:"getPermitTypedDataFromParams",value:function(e,t,a,n,s,r,i,o){var l={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}]},primaryType:"Permit",domain:{name:e,version:"1",chainId:t,verifyingContract:a},message:{holder:n,spender:s,nonce:r,expiry:i,allowed:o}};return l}},{key:"performOffchainSignForPermit",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a,n){var s,r,o,l,u,d,p,m,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=n.getCustomContract(n.web3,c,a.tokenAddress),console.log("myTokenContract",s),e.next=4,s.methods.name().call();case 4:return r=e.sent,o=n.getConnectionState().activeNetworkId,0,e.next=9,s.methods.nonces(a.permitFrom).call();case 9:return l=e.sent,u=parseInt(l),d=[a.permitFrom,a.permitTo,u,a.expires,a.allowed],p=t.getPermitTypedDataFromParams.apply(t,[r,o,window.web3.utils.toChecksumAddress(a.tokenAddress)].concat(d)),console.log("permit typedData",p),m=JSON.stringify(p),t.getPermitTypedDataHash(p),e.next=18,i["a"].signTypedData(n.web3,a.permitFrom,m);case 18:return y=e.sent,y.tokenAddress=a.tokenAddress,y.from=a.permitFrom,y.to=a.permitTo,y.expires=a.expires,y.allowed=a.allowed,y.nonce=u,console.log("signResult",y),e.abrupt("return",y);case 27:case"end":return e.stop()}}),e)})));function a(t,a){return e.apply(this,arguments)}return a}()}]),t}()}).call(this,a("1c35").Buffer)},e932:function(e,t,a){},eb0d:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return c}));a("ac6a"),a("8615");var n=a("75fc"),s=(a("96cf"),a("3b8d")),r=a("d225"),i=a("b0b4"),o=a("e11a"),l=a("5ba3"),c=function(){function t(){Object(r["a"])(this,t)}return Object(i["a"])(t,null,[{key:"getLavaPacket",value:function(e,t,a,n,s,r,i,o,l,c,u){return{method:e,relayAuthority:t,from:a,to:n,walletAddress:s,tokenAddress:r,tokenAmount:i,relayerReward:o,expires:l,nonce:c,signature:u}}},{key:"generateRandomNonce",value:function(){return l.randomHex(16)}},{key:"getLavaTypedDataHash",value:function(t){var a=l.sha3(e.concat([e.from("1901","hex"),o["a"].structHash("EIP712Domain",t.domain,t.types),o["a"].structHash(t.primaryType,t.message,t.types)]));return console.log("meep 1",o["a"].structHash("EIP712Domain",t.domain,t.types)),console.log("meep 2",o["a"].structHash(t.primaryType,t.message,t.types)),a}},{key:"getLavaPacketSchemaHash",value:function(){var e="0x8fd4f9177556bbc74d0710c8bdda543afd18cc84d92d64b5620d5f1881dceb37";return e}},{key:"recoverLavaPacketSigner",value:function(e,a){var n=t.getLavaTypedDataHash(e,e.types),s=ethUtil.toBuffer(a),r=ethUtil.fromRpcSig(s),i=ethUtil.toBuffer(n),o=ethUtil.ecrecover(i,r.v,r.r,r.s),l=ethUtil.pubToAddress(o),c=ethUtil.bufferToHex(l);e.message;return console.log("recovered signer pub address",c.toLowerCase()),c.toLowerCase()}},{key:"signTypedData",value:function(e,t){var a=ethSigUtil.typedSignatureHash(t.data);console.log("msghash1",a);var n=ethUtil.toBuffer(a),s=ethUtil.ecsign(n,e);return ethUtil.bufferToHex(ethSigUtil.concatSig(s.v,s.r,s.s))}},{key:"getLavaTypedDataFromParams",value:function(e,t,a,n,s,r,i,o,c,u,d){var p={types:{EIP712Domain:[{name:"contractName",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],LavaPacket:[{name:"methodName",type:"bytes"},{name:"relayAuthority",type:"address"},{name:"from",type:"address"},{name:"to",type:"address"},{name:"wallet",type:"address"},{name:"token",type:"address"},{name:"tokens",type:"uint256"},{name:"relayerRewardTokens",type:"uint256"},{name:"expires",type:"uint256"},{name:"nonce",type:"uint256"}]},primaryType:"LavaPacket",domain:{contractName:"Lava Wallet",version:"1",chainId:e,verifyingContract:l.toChecksumAddress(r)},message:{methodName:t,relayAuthority:a,from:l.toChecksumAddress(n),to:l.toChecksumAddress(s),wallet:l.toChecksumAddress(r),token:l.toChecksumAddress(i),tokens:o,relayerRewardTokens:c,expires:u,nonce:d}};return p}},{key:"formatAmountWithDecimals",value:function(e,t){var a=e/(1*Math.pow(10,t));return a}},{key:"getFunctionCall",value:function(e,t){var a,n="0x7472616e73666572";return a=t.method==n?e.eth.abi.encodeFunctionCall({name:"transferTokensFromWithSignature",type:"function",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"token",type:"address"},{name:"tokens",type:"uint256"},{name:"relayerReward",type:"uint256"},{name:"expires",type:"uint256"},{name:"nonce",type:"uint256"},{name:"signature",type:"bytes"}]},[t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature]):e.eth.abi.encodeFunctionCall({name:"transferAndCallFromWithSignature",type:"function",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"token",type:"address"},{name:"tokens",type:"uint256"},{name:"relayerReward",type:"uint256"},{name:"expires",type:"uint256"},{name:"nonce",type:"uint256"},{name:"signature",type:"bytes"}]},[t.from,t.to,t.tokenAddress,t.tokenAmount,t.relayerReward,t.expires,t.nonce,t.signature]),a}},{key:"getEIP712TypedData",value:function(){return{type:"object",properties:{types:{type:"object",properties:{EIP712Domain:{type:"array"}},additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}},required:["EIP712Domain"]},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]}}},{key:"performOffchainSignForLavaPacket",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a,s){var r,i,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.getConnectionState().activeNetworkId,i=t.getLavaTypedDataFromParams.apply(t,[r].concat(Object(n["a"])(Object.values(a)))),console.log("lavapacket  typedData",i),l=JSON.stringify(i),e.next=6,o["a"].signTypedData(s.web3,a.from,l);case 6:return c=e.sent,console.log("signResult",c),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));function a(t,a){return e.apply(this,arguments)}return a}()}]),t}()}).call(this,a("1c35").Buffer)}});
//# sourceMappingURL=app.4a13c73a.js.map